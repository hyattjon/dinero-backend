2025-06-19 10:58:35,157 INFO: Application shutdown [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:2138]
2025-06-19 12:28:34,975 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:246]
2025-06-19 12:28:34,979 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:800]
2025-06-19 12:30:25,115 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:246]
2025-06-19 12:30:25,119 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:800]
2025-06-19 12:30:25,882 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:246]
2025-06-19 12:30:25,886 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:800]
2025-06-19 12:33:52,351 INFO: Application shutdown [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:2235]
2025-06-19 12:33:52,589 INFO: Application shutdown [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:2235]
2025-06-19 12:34:31,154 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:246]
2025-06-19 12:34:31,157 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:800]
2025-06-19 12:34:31,886 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:246]
2025-06-19 12:34:31,889 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:800]
2025-06-19 12:35:02,794 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:02,795 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:02,795 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:35:02,795 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:35:02,795 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750959302} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:721]
2025-06-19 12:35:02,796 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750959302} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:721]
2025-06-19 12:35:02,796 INFO: Using admin client to fetch recommendation history [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1539]
2025-06-19 12:35:02,923 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:02,923 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:35:02,923 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750959302} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:721]
2025-06-19 12:35:03,061 INFO: History data count: 3 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1554]
2025-06-19 12:35:03,064 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:03,064 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:35:03,064 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750959302} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:721]
2025-06-19 12:35:03,064 INFO: Using admin client to fetch recommendation history [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1539]
2025-06-19 12:35:03,193 INFO: History data count: 3 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1554]
2025-06-19 12:35:09,096 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:09,097 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:35:09,097 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750959302} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:721]
2025-06-19 12:35:09,369 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:09,369 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:35:09,370 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750959302} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:721]
2025-06-19 12:35:11,769 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:11,769 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:35:11,769 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750959302} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:721]
2025-06-19 12:35:13,330 ERROR: Error creating checkout session: Request req_5h9x1nREkkxJgj: You must provide at least one recurring price in `subscription` mode when using prices. [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1670]
Traceback (most recent call last):
  File "/Users/jonathanhyatt/dinero/dinero-backend/app.py", line 1651, in create_checkout_session
    session = stripe.checkout.Session.create(
  File "/Users/jonathanhyatt/dinero/.venv/lib/python3.9/site-packages/stripe/checkout/_session.py", line 4932, in create
    cls._static_request(
  File "/Users/jonathanhyatt/dinero/.venv/lib/python3.9/site-packages/stripe/_api_resource.py", line 172, in _static_request
    return _APIRequestor._global_instance().request(
  File "/Users/jonathanhyatt/dinero/.venv/lib/python3.9/site-packages/stripe/_api_requestor.py", line 197, in request
    resp = requestor._interpret_response(rbody, rcode, rheaders, api_mode)
  File "/Users/jonathanhyatt/dinero/.venv/lib/python3.9/site-packages/stripe/_api_requestor.py", line 853, in _interpret_response
    self.handle_error_response(
  File "/Users/jonathanhyatt/dinero/.venv/lib/python3.9/site-packages/stripe/_api_requestor.py", line 336, in handle_error_response
    raise err
stripe._error.InvalidRequestError: Request req_5h9x1nREkkxJgj: You must provide at least one recurring price in `subscription` mode when using prices.
2025-06-19 12:35:30,570 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:246]
2025-06-19 12:35:30,574 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:800]
2025-06-19 12:35:33,371 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:33,372 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:35:33,376 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:33,376 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750959302} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:721]
2025-06-19 12:35:33,377 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:35:33,378 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750959302} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:721]
2025-06-19 12:35:33,390 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTA5NTkzMDJ9.Jh5WuqkxxZ1DkVFtRAtP9TS2rn4wdQU2l34zS1EYXyM [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:705]
2025-06-19 12:35:33,390 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-19 12:37:54,396 INFO: Application shutdown [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:2235]
