2025-06-20 16:06:36,460 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:799]
2025-06-20 16:06:38,554 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:246]
2025-06-20 16:06:38,558 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:798]
2025-06-20 16:09:28,893 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:246]
2025-06-20 16:09:28,897 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:798]
2025-06-20 16:11:45,006 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:245]
2025-06-20 16:12:26,344 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:245]
2025-06-20 16:12:26,348 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:797]
2025-06-20 16:12:27,116 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:245]
2025-06-20 16:12:27,120 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:797]
2025-06-20 16:15:15,060 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:255]
2025-06-20 16:16:28,864 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:256]
2025-06-20 16:16:29,628 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:256]
2025-06-20 16:16:47,497 ERROR: Unhandled exception [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:2105]
Traceback (most recent call last):
  File "/Users/jonathanhyatt/dinero/.venv/lib/python3.9/site-packages/flask/app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "/Users/jonathanhyatt/dinero/.venv/lib/python3.9/site-packages/flask/app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "/Users/jonathanhyatt/dinero/dinero-backend/app.py", line 816, in handle_preflight
    if origin in ALLOWED_ORIGINS:  # Use the global variable
NameError: name 'ALLOWED_ORIGINS' is not defined
2025-06-20 16:18:41,374 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:256]
2025-06-20 16:18:45,471 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:256]
2025-06-20 16:18:49,537 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:256]
2025-06-20 16:25:54,148 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:257]
2025-06-20 16:25:54,905 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:257]
2025-06-20 16:26:06,054 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTEwNTk1NjZ9.1Uh8d9wxz6JRPY_1ce1hD1Q7OFhxy2-ScYFEFW-EWts [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-20 16:26:06,056 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTEwNTk1NjZ9.1Uh8d9wxz6JRPY_1ce1hD1Q7OFhxy2-ScYFEFW-EWts [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-20 16:26:06,056 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:727]
2025-06-20 16:26:06,056 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:727]
2025-06-20 16:26:06,057 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1751059566} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:732]
2025-06-20 16:26:06,057 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1751059566} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:732]
2025-06-20 16:26:06,057 INFO: Using admin client to fetch recommendation history [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1547]
2025-06-20 16:26:06,212 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTEwNTk1NjZ9.1Uh8d9wxz6JRPY_1ce1hD1Q7OFhxy2-ScYFEFW-EWts [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-20 16:26:06,213 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:727]
2025-06-20 16:26:06,213 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1751059566} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:732]
2025-06-20 16:26:06,376 INFO: History data count: 3 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1562]
2025-06-20 16:26:06,380 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTEwNTk1NjZ9.1Uh8d9wxz6JRPY_1ce1hD1Q7OFhxy2-ScYFEFW-EWts [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-20 16:26:06,381 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:727]
2025-06-20 16:26:06,382 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1751059566} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:732]
2025-06-20 16:26:06,383 INFO: Using admin client to fetch recommendation history [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1547]
2025-06-20 16:26:06,559 INFO: History data count: 3 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1562]
2025-06-20 16:30:42,720 INFO: Application shutdown [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:2240]
2025-06-20 16:30:42,961 INFO: Application shutdown [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:2240]
2025-06-20 16:31:16,631 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:257]
2025-06-20 16:31:17,377 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:257]
2025-06-20 16:31:28,963 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTEwNTk1NjZ9.1Uh8d9wxz6JRPY_1ce1hD1Q7OFhxy2-ScYFEFW-EWts [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-20 16:31:28,966 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTEwNTk1NjZ9.1Uh8d9wxz6JRPY_1ce1hD1Q7OFhxy2-ScYFEFW-EWts [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-20 16:31:28,966 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:727]
2025-06-20 16:31:28,966 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:727]
2025-06-20 16:31:28,967 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1751059566} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:732]
2025-06-20 16:31:28,967 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1751059566} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:732]
2025-06-20 16:31:28,967 INFO: Using admin client to fetch recommendation history [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1547]
2025-06-20 16:31:29,356 INFO: History data count: 3 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1562]
2025-06-20 16:31:29,357 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTEwNTk1NjZ9.1Uh8d9wxz6JRPY_1ce1hD1Q7OFhxy2-ScYFEFW-EWts [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-20 16:31:29,358 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:727]
2025-06-20 16:31:29,358 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1751059566} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:732]
2025-06-20 16:31:29,361 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTEwNTk1NjZ9.1Uh8d9wxz6JRPY_1ce1hD1Q7OFhxy2-ScYFEFW-EWts [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-20 16:31:29,361 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:727]
2025-06-20 16:31:29,361 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1751059566} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:732]
2025-06-20 16:31:29,362 INFO: Using admin client to fetch recommendation history [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1547]
2025-06-20 16:31:29,469 INFO: History data count: 3 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1562]
2025-06-20 16:31:29,500 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlYTU5OWI0LTg4N2UtNDVjZS1hYWY0LTc0OTA0YzI1Yjk1MiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTEwNTk1NjZ9.1Uh8d9wxz6JRPY_1ce1hD1Q7OFhxy2-ScYFEFW-EWts [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:716]
2025-06-20 16:31:29,500 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:727]
2025-06-20 16:31:29,500 INFO: Decoded token: {'id': 'eea599b4-887e-45ce-aaf4-74904c25b952', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1751059566} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:732]
