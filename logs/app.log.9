2025-06-12 10:51:51,068 INFO: Decoded token: {'id': '15c24c0d-964e-4072-8449-1a01646bef02', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750347106} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:703]
2025-06-12 10:51:51,071 INFO: Creating link token for user 15c24c0d-964e-4072-8449-1a01646bef02 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1061]
2025-06-12 10:51:51,072 INFO: Plaid link token request: {'user': {'client_user_id': '15c24c0d-964e-4072-8449-1a01646bef02'}, 'client_name': 'Card Matcher', 'products': ['transactions'], 'language': 'en', 'country_codes': ['US']} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1081]
2025-06-12 10:51:52,425 INFO: Successfully created link token [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1087]
2025-06-12 10:52:26,103 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjE1YzI0YzBkLTk2NGUtNDA3Mi04NDQ5LTFhMDE2NDZiZWYwMiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTAzNDcxMDZ9.kX-vf1rQXZnHgQYw6C0dmteBZAOPkdU1PuLG40fA0Bo [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:687]
2025-06-12 10:52:26,104 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:698]
2025-06-12 10:52:26,104 INFO: Decoded token: {'id': '15c24c0d-964e-4072-8449-1a01646bef02', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750347106} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:703]
2025-06-12 10:52:27,303 INFO: Starting to fetch rewards data for 20 cards [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1330]
2025-06-12 10:52:27,304 INFO: Fetching card details for amex-gold from https://rewards-credit-card-api.p.rapidapi.com/creditcard-plaid-bycard/amex-gold [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:576]
2025-06-12 10:52:28,037 INFO: Response status for amex-gold: 200 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:579]
2025-06-12 10:52:28,038 INFO: Successfully fetched data for amex-gold [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:582]
2025-06-12 10:52:28,039 INFO: Fetching card details for chase-sapphire-preferred from https://rewards-credit-card-api.p.rapidapi.com/creditcard-plaid-bycard/chase-sapphire-preferred [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:576]
2025-06-12 10:52:28,519 INFO: Response status for chase-sapphire-preferred: 200 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:579]
2025-06-12 10:52:28,519 INFO: Successfully fetched data for chase-sapphire-preferred [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:582]
2025-06-12 10:52:28,520 ERROR: Error processing card chase-sapphire-preferred: 'list' object has no attribute 'get' [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1362]
2025-06-12 10:52:28,520 INFO: Fetching card details for capital-one-venture-rewards from https://rewards-credit-card-api.p.rapidapi.com/creditcard-plaid-bycard/capital-one-venture-rewards [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:576]
2025-06-12 10:52:29,097 INFO: Response status for capital-one-venture-rewards: 200 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:579]
2025-06-12 10:52:29,098 INFO: Successfully fetched data for capital-one-venture-rewards [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:582]
2025-06-12 10:52:29,098 ERROR: Error processing card capital-one-venture-rewards: 'list' object has no attribute 'get' [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1362]
2025-06-12 10:52:29,098 INFO: Fetching card details for amex-platinum from https://rewards-credit-card-api.p.rapidapi.com/creditcard-plaid-bycard/amex-platinum [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:576]
2025-06-12 10:52:29,633 INFO: Response status for amex-platinum: 200 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:579]
2025-06-12 10:52:29,634 INFO: Successfully fetched data for amex-platinum [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:582]
2025-06-12 10:52:29,634 INFO: Fetching card details for citi-premier from https://rewards-credit-card-api.p.rapidapi.com/creditcard-plaid-bycard/citi-premier [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:576]
2025-06-12 10:52:30,266 INFO: Response status for citi-premier: 200 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:579]
2025-06-12 10:52:30,266 INFO: Successfully fetched data for citi-premier [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:582]
2025-06-12 10:52:30,267 WARNING: Admin client not available, attempting with regular client (may fail due to RLS) [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1405]
2025-06-12 10:52:30,985 ERROR: Failed to store recommendations: {'message': 'new row violates row-level security policy for table "card_recommendations"', 'code': '42501', 'hint': None, 'details': None} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1419]
2025-06-12 10:57:04,487 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:250]
2025-06-12 10:57:04,490 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:757]
2025-06-12 10:57:06,530 INFO: Application startup [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:250]
2025-06-12 10:57:06,533 INFO: Admin Supabase client initialized successfully [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:757]
2025-06-12 10:57:15,176 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjE1YzI0YzBkLTk2NGUtNDA3Mi04NDQ5LTFhMDE2NDZiZWYwMiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTAzNDcxMDZ9.kX-vf1rQXZnHgQYw6C0dmteBZAOPkdU1PuLG40fA0Bo [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:687]
2025-06-12 10:57:15,176 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjE1YzI0YzBkLTk2NGUtNDA3Mi04NDQ5LTFhMDE2NDZiZWYwMiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTAzNDcxMDZ9.kX-vf1rQXZnHgQYw6C0dmteBZAOPkdU1PuLG40fA0Bo [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:687]
2025-06-12 10:57:15,177 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:698]
2025-06-12 10:57:15,177 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:698]
2025-06-12 10:57:15,177 INFO: Decoded token: {'id': '15c24c0d-964e-4072-8449-1a01646bef02', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750347106} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:703]
2025-06-12 10:57:15,177 INFO: Decoded token: {'id': '15c24c0d-964e-4072-8449-1a01646bef02', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750347106} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:703]
2025-06-12 10:57:16,857 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjE1YzI0YzBkLTk2NGUtNDA3Mi04NDQ5LTFhMDE2NDZiZWYwMiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTAzNDcxMDZ9.kX-vf1rQXZnHgQYw6C0dmteBZAOPkdU1PuLG40fA0Bo [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:687]
2025-06-12 10:57:16,857 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:698]
2025-06-12 10:57:16,857 INFO: Decoded token: {'id': '15c24c0d-964e-4072-8449-1a01646bef02', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750347106} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:703]
2025-06-12 10:57:16,857 INFO: Creating link token for user 15c24c0d-964e-4072-8449-1a01646bef02 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1061]
2025-06-12 10:57:16,857 INFO: Plaid link token request: {'user': {'client_user_id': '15c24c0d-964e-4072-8449-1a01646bef02'}, 'client_name': 'Card Matcher', 'products': ['transactions'], 'language': 'en', 'country_codes': ['US']} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1081]
2025-06-12 10:57:17,449 INFO: Successfully created link token [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1087]
2025-06-12 10:57:52,488 INFO: Auth header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjE1YzI0YzBkLTk2NGUtNDA3Mi04NDQ5LTFhMDE2NDZiZWYwMiIsImVtYWlsIjoiaHlhdHQuam9uYXRoYW45OUBnbWFpbC5jb20iLCJleHAiOjE3NTAzNDcxMDZ9.kX-vf1rQXZnHgQYw6C0dmteBZAOPkdU1PuLG40fA0Bo [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:687]
2025-06-12 10:57:52,489 INFO: Verifying token: eyJhbGciOi... [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:698]
2025-06-12 10:57:52,489 INFO: Decoded token: {'id': '15c24c0d-964e-4072-8449-1a01646bef02', 'email': 'hyatt.jonathan99@gmail.com', 'exp': 1750347106} [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:703]
2025-06-12 10:57:54,008 INFO: Starting to fetch rewards data for 20 cards [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1330]
2025-06-12 10:57:54,008 INFO: Fetching card details for amex-gold from https://rewards-credit-card-api.p.rapidapi.com/creditcard-plaid-bycard/amex-gold [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:576]
2025-06-12 10:57:54,712 INFO: Response status for amex-gold: 200 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:579]
2025-06-12 10:57:54,712 INFO: Successfully fetched data for amex-gold [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:582]
2025-06-12 10:57:54,713 INFO: Fetching card details for chase-sapphire-preferred from https://rewards-credit-card-api.p.rapidapi.com/creditcard-plaid-bycard/chase-sapphire-preferred [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:576]
2025-06-12 10:57:55,160 INFO: Response status for chase-sapphire-preferred: 200 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:579]
2025-06-12 10:57:55,160 INFO: Successfully fetched data for chase-sapphire-preferred [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:582]
2025-06-12 10:57:55,161 ERROR: Error processing card chase-sapphire-preferred: 'list' object has no attribute 'get' [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:1362]
2025-06-12 10:57:55,161 INFO: Fetching card details for capital-one-venture-rewards from https://rewards-credit-card-api.p.rapidapi.com/creditcard-plaid-bycard/capital-one-venture-rewards [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:576]
2025-06-12 10:57:55,745 INFO: Response status for capital-one-venture-rewards: 200 [in /Users/jonathanhyatt/dinero/dinero-backend/app.py:579]
